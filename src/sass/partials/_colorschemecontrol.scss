/* ==============================
   DARKMODE CONTROLS
   ============================== */

#os-theme-switch {

 position: relative;
 color: #555;
 background: #eee;
 border-top: 1px solid #ddd;
 padding: .9rem 1.5rem 1.1rem;
 font-size: 90%;
 margin-top: .8rem !important;

 .darkmode-unavailable {

   position: absolute;
   display: flex;
   top: 0;
   left: 0;
   z-index: 1;
   opacity: .7;
   width: 100%;
   height: 100%;
   box-sizing: border-box;
   background: #fff;
   color: #000;

   div {
     opacity: 0;
     width: 100%;
     align-self: center;
     font-size: 80%;
     text-align: center;
     transition: opacity .2s ease-in-out;
   }

   & ~ input:checked ~ label .toggle-switch {
    background: #888;
  }

   &:hover,
   &:focus {

     div {
       opacity: 1;
       cursor: default;
     }

     & ~ label {
       filter: blur(2px);
     }

   }

 }

 input {

  position: relative;
   display: none;

   &:checked ~ label {

     .toggle-switch {

       background: var(--uri-modern-link-color);
       border: 1px solid rgba(0,0,0,.2);

       &:before {
         transform: translateX( 13px );
       }

     }

   }

 }

 label {

  position: relative;
   height: 16px;
   line-height: 16px;
   filter: initial;
   transition: filter .2s ease-in-out;

   &:hover,
   &:focus {
     cursor: pointer;
   }

 }

 .toggle-switch {

   position: relative;
   top: 4px;
   display: inline-block;
   width: 28px;
   height: 16px;
   border-radius: 9px;
   background: rgba(0,0,0,.1);
   border: 1px solid rgba(0,0,0,.05);
   margin-right: .5rem;
   transition: all .1s ease-in-out;

   &:before {
     display: block;
     content: '';
     position: absolute;
     top: 1px;
     transform: translateX(1px);
     width: 14px;
     height: 14px;
     background: #fff;
     box-shadow: 0 1px 2px rgba(0,0,0,.2);
     border-radius: 50%;
     transition: transform .1s ease-in-out;
   }

 }

}

#{$dark-scheme-selectors} {

  #os-theme-switch {

    background: #1c1c1c;
    border-top: 1px solid #111;
    color: #ccc;

    .darkmode-unavailable {
      background: #1c1c1c;
      color: #fff;
    }
  }
}
